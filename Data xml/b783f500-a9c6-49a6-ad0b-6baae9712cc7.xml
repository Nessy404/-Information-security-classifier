<doc><category auto="true" type="str" verify="true"><![CDATA[Информационная безопасность]]></category><author auto="true" type="str" verify="true"><![CDATA[postgres]]></author><title auto="true" type="str" verify="true"><![CDATA[Как организована безопасность вашей операционной системы Windows?]]></title><keywords auto="true" type="list" verify="true"><item type="str"><![CDATA[Информационная безопасность]]></item><item type="str"><![CDATA[Системное администрирование]]></item><item type="str"><![CDATA[Антивирусная защита]]></item><item type="str"><![CDATA[Программирование]]></item><item type="str"><![CDATA[Софт]]></item></keywords><text auto="true" type="str" verify="true"><![CDATA[А вы уверены, что знаете, какие действия выполняют программы на ваших компьютерах и прочих девайсах? К примеру, могут ли игры копаться в ваших документах? На что способно приложение, которому одобрили запуск с правами администратора, и почему оно не может запускаться без выдачи этих прав? Попробуем разобраться вместе. Многие знают, что не стоит скачивать и запускать программы из неофициальных источников, т.к. можно поймать вирус. Но есть и те, кто иногда пренебрегает этим. В статье я делюсь своим личным мнением и опытом . Цель статьи — разобраться, как обеспечить безопасную работу в Windows UPD. Благодарю за купание в минусах подкованных обитателей Хабра, которые забыли, что есть обычные пользователи ОС , которым не очевидны многие вещи! UPD_2. Жаль, я добавил не так много самоиронии, чтобы она была более очевидна, как тут Я не задумывался о том, что любая программа, может выполнить почти любое действие, даже под присмотром антивирусов, пока сам не воспроизвел это. Еще более неочевидный момент для типичного пользователя: " как ограничить допустимые действия программы , если хочется иметь более надежную защиту, чем банальное доверие к разработчику?" Обо всем по порядку. # Немного лирики. Без небольшой предыстории не обойтись Совсем недавно я решил освоить python. Подучив основы, я решил написать приложение для автоматизации своих рутинных задач. Я не программист, но знания PL/pgSQL помогли быстро освоиться. 1. Завязка Я удивился, когда скомпилированная в .exe и .bin программа без каких-либо вопросов запустилась с флешки на другом компьютере, выполнив все, что в ней прописано: — удалить файлы из папки «Мои документы» — прочесть и заменить буфер обмена — вывести информацию о файлах в других каталогах — обратиться к интернету — выключить компьютер и прочие «шалости» Справедливости ради, попробовал на Linux — результат тот же. P.S. На Linux редко кто ставит антивирус и прочие средства защиты, т.к. пользователи Linux обычно не качают что-либо из сомнительных источников. Обычно все устанавливается из доверенных репозиториев. Наверное, поэтому он не усыпан вирусами. Но в Windows(8/10) я наивно ожидал какого-либо диалога о подтверждении запуска, визга антивируса и прочих прелестей . Я привык думать, что я надежно защищен , т.к. с моим компьютером ничего особо опасного не случалось. Я пробовал запускать программу на разных компьютерах друзей, используя запись гостя и нового простого пользователя, ставил разные средства защиты — эффект тот же. Исповедь ламера: Я почему-то наивно полагал, что буфер обмена — это нечто «святое», т.к. в нем часто мелькает важная информация, и мне казалось, что я сам регулирую вставку данных. Однако, как я понял, для ОС это просто программа, как PuntoSwitcher, Teamviewer и прочие, которые спокойно выполняют разного рода действия. Мне стало интересно, как можно пресечь нежелательные действия собственной же программы. 2. Немного о программе Консольная версия программы была бы скучной для запуска, поэтому я решил добавить интерфейс. Основная часть консоли выглядела как-то так: # Не судите строго, я лишь учусь import os import platformall_results = [ 'Start' ]commands_dict = { '010 Ваша OS:' : 'platform.system()' , '050 Чуть больше подробностей:' : 'platform.uname()' , '060 Сварить кофе!' : "get_coffee('Cappuccino')" , '150 Еще какая-то команда:' : "None" , '270 Список файлов в текущем каталоге:' : "os.listdir()" # Прочие команды которые мы хотим протестировать # Сортировка с запасом для встраивания } def exec_in_results (command, note) : try : note = note[ 3 :] # Отрезаем первые 3 символа используемые для сортировки словаря result = eval(command) # Eval is Evil? - Maybe if result is None : all_results.append( '\n\n!! Нет данных от команды: {0} >>> {1}' .format(command, note)) else : all_results.append( '\n' * 2 + '*' * 30 + note + '\n' ) # Обрамляю как умею all_results.append(result) except Exception as err: all_results.append( '\n\n!!! Прочая ошибка при вызове: {0} >>> {1} ERROR: {2}' .format(command, note, err)) for key_note in sorted(commands_dict.keys()): exec_in_results(commands_dict[key_note], key_note)print( '\n' .join(str(x) for x in all_results)) Пока баловался с ним — вышла незамысловатая игра. Хотел написать сапера, но это было сложно решил придумать что-то свое. Меню игры при первом запуске Программа может показаться безобидной игрой, однако через несколько минут после скачивания файла (или другого обозначенного события) активируются новые функции ограничился следующим списком: Программа: собирает некоторые данные о компьютере и показывает их в блокноте читает и подменяет буфер обмена обращается к интернету (просто получает главную страницу известного поисковика) открывает браузер с указанными ссылками дружит с антивирусами (пока что, проверил на virustotal.com). При скачивании этой программы из интернета, единственный барьер, который я встретил — это SmartScreen, который не любит приложения от неизвестных производителей может выключить компьютер даже быстрее, чем это делает кнопка из меню «Пуск» удаляет файлы в конкретной папке Из украшательств : окно находится всегда по центру, не дает свернуть/переместить/закрыть себя, т.к. не имеет заголовка, перекрывает все окна. Не реагирует на ALT+F4 (добавил кнопку для выхода). Бонус: случайно вышла оптическая иллюзия мерцающих кругов между квадратами. Программа весит около 7 Мб, хотя код на строк 300 (включая множество пустых), потому что используемый мною компилятор (pyinstaller) даже «Hello world» компилирует в 5-Мб exe. Меню игры, которое мы заслужили Снял видео , для тех, кому интересна работа программы. P.S. Если захотите скачать этот файл для эксперимента, то сможете догадаться, где скачать «более безобидную» версию программы (без удаления и выключения). Но делать этого я не советую, мало ли что там :) Думаю нет смысла кидать исходник, т.к. суть не в этой программе, она лишь в качестве примера. 3. Что меня смущает? " Я знаю, что я ничего не знаю ". Я простой пользователь, убежденный в том, что меня защитят антивирусы и сама система от большинства сомнительных (на мой взгляд) действий программ. Вряд ли мое приложение считается вирусом, но навредить оно может. Никаких претензий к антивирусам не имею, они спасают от популярных угроз, фишинговых сайтов и прочих проблем. Главная причина проблем — действия самого пользователя. Наверняка есть пользователи, которые не подозревают насколько может быть опасно скачивать незнакомые/cracked приложения с торрентов, файлообменников, и прочих сайтов. Особенно те, что требуют прав администратора для запуска. Сериал «Черное зеркало» намекает . Про Root прошивки/приложения телефона — промолчу. Далеко не все люди хорошо ладят с компьютером, скачивают что предлагают, и доверчиво нажимают «Далее/Продолжить» при всех установках.Поэтому, когда знакомые просят меня посмотреть компьютер, который еле шевелится, я всегда вижу кучу хлама полезных сервисов. Типичный режим эксперта Меня немного раздражает 'вседозволенность' программ , когда они прописывают себя не только в автозагрузке, но и пускают корни в службах, реестре и планировщике задач, замедляя компьютер своими непонятными процессами. Пока я пробовал разные антивирусы, один из них при удалении испортил драйвер для сетевой карты, и я остался без интернета. Помогла точка восстановления системы. У меня нет паранойи, но мне не нравится, что при установке программы всплывает лишь 2 варианта : -Установить (*Установить с правами администратора) -Отменить А что, если я хочу (на всякий случай), чтобы приложение видело только свою папку, не имело доступ к интернету, буферу обмена и т.д.? Куда мне нажать? Благо ограничения камеры/микрофона имеются в настройках конфиденциальности. 4. Что ты хочешь? Всегда же так было Видимо, я уже привык, что на телефоне приложения назойливо запрашивают доступ к данным и функциям системы («разрешить доступ к Фото/Камере/Микрофону/Геопозиции»). Однако! Теперь я задумался, это постоянный доступ в любой момент работы приложения? Или только когда я нажимаю «Записать/Сфотографировать/Отправить файл»? Надеюсь там все в порядке, но это уже другая тема.. Но, мне не совсем очевидно, как можно на личном компьютере удобным способом запустить/установить приложение, выставив ему рамки дозволенного. 5. Поиск решения Самый важный и очевидный шаг прозвучит наивно, т.к. многие о нем знают, но часто пренебрегают этим. Большинство бед (вирусы, майнеры, сбои и т.п.) Windows из-за того, что многие пользуются учетной с правами администратора , созданной при установке, тем самым запускают все программы с избыточными правами. Каюсь, я долгое время было одним из них. UPD. Достаточно посмотреть результат опроса в конце статьи. Не знаю, почему до сих пор в Windows это не такой очевидный момент, как в Linux Краткая инструкция для тех, кто понимает, о чем речь, но не решается на такой шаг: Создайте отдельного пользователя, дайте ему права администратора, а с себя снимите. Только с паролями не запутайтесь. При запуске/установке некоторых программ и прочих изменениях в системе будет запрашиваться пароль администратора (а не просто: Да/Нет), появится повод задуматься, для чего программа требует такие права. От прижившихся приложений не поможет Заметил, что некоторые программы при запуске хотят получить права администратора , однако при неудачной попытке могут предложить альтернативу: Теперь системные файлы оказались в большей безопасности, но моя программа продолжала делать коварные делишки. Я вышел в интернет с подобным вопросом (+ IT чаты в мессенджерах): «Как безопасно/изолированно запустить программу EXE?» Еще опросил знакомых близких к IT. Нашел следующие варианты: 1) Использовать виртуальную машину Отличный вариант, но не для всех случаев. Думаю, что часть пользователей могут представлять виртуальную машину как-то так 2) Системные настройки - Настроить политику безопасности, права на важные папки и т.д. - Понять, почему программа просит дополнительные права, и подавить UAC запрос Конечно, Windows достаточно гибкий в настройке. Я считаю считал себя достаточно «продвинутым» пользователем, но даже я не хочу возиться с настройками политики, дополнительным софтом и прочими хитростями. P.S. Пока искал информацию, чаще всего находил статьи о том как отключить UAС , чтобы он не мешал своими предупреждениями . 3) Не скачивать подозрительные приложения. Лучший вариант! . У меня теперь сомнения, откуда мне знать, что любое известное приложение не делает/сделает того, что я не хочу? Фрагменты типичного лицензионного соглашения Пользователь уведомлен и соглашается с автоматическим обновлением Программы без каких-либо дополнительных уведомлений. Лицензионное соглашение может изменяться Правообладателем в одностороннем порядке. Изменения в условия настоящей Лицензии публикуется на странице: страница_на_которую вы_вряд_ли_зайдете . Указанные изменения в условиях лицензионного соглашения вступают в силу с даты их публикации, или тогда когда нам будет удобно.. Не нравится — не используй, все честно. Не буду писать, что за обновление мне прилетело таким образом, т.к. я никого не хочу задеть в данной публикации. 4) Использовать программы " песочницы " Наиболее удобный вариант, на мой взгляд. Я смог подавить некоторые опасные операции своей программы, что весьма не плохо. Однако, это сторонний и не всегда бесплатный софт, который требует настройки. Хочется чего-нибудь похожего встроенного в ОС, с понятным интерфейсом. Итог Я никого не обвиняю, не призываю к панике: просто захотелось поделиться с вами своими мыслями на счет безопасности наших ОС. Меня удивляет, что любое приложение может быть «ящиком Пандоры», от которого мало кто знает как защититься (по моему наблюдению). Мне кажется это очень странным, во времена, когда все стараются защитить свою информацию, используют двухфакторную авторизацию/SMS, шифрование в мессенджерах и прочие вещи. Если есть простая штатная возможность организовать более безопасную среду, буду рад, если подскажете как это сделать! Спасибо за внимание! Как организована безопасность Вашей операционной системы Windows? Что можете посоветовать?]]></text></doc>