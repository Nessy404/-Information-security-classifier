<doc>
  <source auto="true" type="str" verify="true"><![CDATA[https://habr.com/ru/company/madrobots/blog/430790/]]></source>
  <category auto="true" type="str" verify="true"><![CDATA[Информационная безопасность]]></category>
  <author auto="true" type="str" verify="true"><![CDATA[EgorKotkin]]></author>
  <title auto="true" type="str" verify="true"><![CDATA[Ledger Nano S: ключ от комнаты, где могут лежать 710 токенов и криптовалют]]></title>
  <keywords auto="true" type="list" verify="true">
    <item type="str"><![CDATA[Блог компании Madrobots]]></item>
    <item type="str"><![CDATA[Информационная безопасность]]></item>
    <item type="str"><![CDATA[Гаджеты]]></item>
    <item type="str"><![CDATA[Криптовалюты]]></item>
  </keywords>
  <text auto="true" type="str" verify="true"><![CDATA[Мой старый друг Myetherwallet давно и неустанно мне напоминает, как неправильно я, дядя Егор, бутерброд ем, заходя на него через браузер по приватному ключу. Использование веб-кошельков — один из рискованных способов доступа к криптоактивам наряду с их хранением на криптобирже. Давно было пора изучить альтернативные варианты. Общественное мнение, разумеется, было за «железные» аппаратные кошельки. Но я особо не спешил: защита от хакеров — это, конечно, аргумент. Но и оффлайн-угрозы никто не отменял — в жизни что-нибудь терять случается гораздо чаще. И внешние ассоциации с флэшками уверенности не добавляли. Но рано или поздно нужно встречать свои страхи лицом к лицу, так что предложение Madrobots потестить Ledger Nano S пришлось весьма кстати. Как и то, что обзор получился под Чёрную пятницу — так что Nano S сейчас с дисконтом 50% до воскресенья — с рухнувшим в цене битком скидки особенно актуальны. Принцип работы Два основных параметра любого криптокошелька — это публичный и приватный ключи. Публичный ключ в обиходе зовётся адресом кошелька и выполняет, по сути, именно эту функцию — находит нужный кошелёк в блокчейне. У одного кошелька может быть много разных публичных ключей. Приватный ключ отвечает за доступ к кошельку, это и есть, по сути, ключ — он такой один и должен быть известен и принадлежать только владельцу аккаунта. А Ledger Nano S — это физическое воплощение приватного ключа. Сначала с его помощью нужно создать кошелёк для одной из 30+ поддерживаемых криптомонет, после чего он будет требоваться для подтверждения любых транзакций. Приватный ключ, сгенерированный при создании кошелька, остаётся на самой «флэшке», записанный на защищённом чипе ST31H320, используемом также для хранения данных биометрических паспортов и кредитных карт. Ограничения Как и всякий ключ, Nano S требует соответствующего «замка». Основные функции по управлению созданными кошельками берёт на себя приложение Ledger Live для Windows, Mac, Linux или Chrome OS. Впрочем, с «Маками» у Nano S не совпадает дефолтный шнурок, идущий в комплекте: они уже несколько лет идут только с USB-C портами, поэтому hello, adapter, my old friend. Впрочем, если уж приобретать этот кошелёк, то имеет смысл добавить к нему microUSB на USB-C кабель ( €15 на сайте производителя — впрочем, наверняка можно заказать аналог в разы дешевле с другого конца Евразии). Это в любом случае стоящая идея, потому что с этим шнурком Ledger Nano S можно будет использовать ещё и на Android c кошельком MyCelium . А вот вариантов совместимости с iPhone я, к сожалению, не нашёл. На случай утери самого Ledger Зато большим плюсом, в отличие от большинства других предметов материального мира, является возможность доступ к кошельку, в случае утери, восстановить. Для этого используется знакомая любому юзеру, хоть раз имевшему дело с собственной криптой, процедура восстановления по мнемонической фразе, которая представляет собой 24 слова, генерируемых при запуске Nano S, которые полагается записать на бумажку, а бумажку хранить в утке укромном месте. О важности записи мнемонической фразы именно от руки напоминает идущая в комплекте с кошельком стопка специальных карточек. С одной стороны, это хорошо — потому что позволяет восстановить доступ ко всем управляемым с Ledger Nano S кошелькам с другого устройства. С другой стороны, это плохо — потому что позволяет восстановить доступ ко всем управляемым с Ledger Nano S кошелькам с другого устройства. Иными словами, с «Леджером» можно не беспокоиться о безвозвратной утере «ключа» к своим криптосокровищам — но нужно беспокоиться об утере карточки со списком волшебных слов. Про карточку Интересно, что карточки для записи мнемонического кода в коробку с кошельком положили, а карандаш — нет. С одной стороны, это важное упущение: потому что вся процедура записи и проверки контрольных слов направлена на то, чтобы преодолеть лень и беспечность юзера, несмотря ни на что желающего записать фразу восстановления, скажем, в «Заметках» на айфоне или, ещё лучше — в ЛС своего «Вконтакте». С другой — вообще вся эта затея с фирменной карточкой больше про security theater, чем про секьюрность: документ, которого одного достаточно для получения доступа ко всем кошелькам пользователя, явно не должен выдавать своё назначение своим дизайном. Поэтому, когда пойдёте за ручкой — захватите заодно и бумагу без опознавательных знаков. Неброский внешний вид Ledger Nano S (и других кошельков подобного формата) отмечается, как одно из его преимуществ — флэшка как флэшка. Почему бы тот же подход не применить и к карточке со списком контрольных слов, замаскировав её подо что-то совсем не бросающееся в глаза и не выдающее её подлинной ценности и назначения — вырезки из газеты, как в старых детективах, например? Первое включение и настройка Другой вкладыш из коробки советует начать со страницы start.ledgerwallet.com для настройки кошелька. Правда, адрес уже немного устарел. Вместо него открывается www.ledger.com/pages/ledger-live , где, за всплывающим окном подписки, оказывается страница для скачивания Ledger Live. При активации кошелька пользователю нужно выбрать PIN-код, защищающий доступ к самому кошельку — от 4 до 8 цифр на его усмотрение. Кнопками на корпусе пользователь выбирает нужную цифру от 0 до 9, либо × для стирания предыдущей или ✓ для завершения ввода, если решил остановиться на 4-7-значном коде, двукратным нажатием переходя к следующей ячейке. Дальше пользователю демонстрируются 24 контрольных слова, которые и нужно записать на карточку с Recovery phrase. Довольно нудная, напоминающая диктант, процедура, если учесть, что в неё входит последующая проверка всех 24 слов после записи. Обычно другие кошельки удовлетворяются проверкой того, что юзер может указать указать положение 3-4 слов в целом списке. Но это разовая процедура, поэтому можно перетерпеть. Эргономика После всех этапов активации Ledger Nano S, его эксплуатация не ограничивается одним только нажатием кнопок одобрить/отменить на корпусе — не забываем, что, каждый раз при входе, этими же двумя клавишами нужно ввести PIN-код для его разблокировки. Поэтому вопрос удобства этого процесса тоже очень важен. В отличие от старых электронных часов с их мелкими, тугими и, порой, ненажимаемыми кнопками, Nano S здесь только радует: управляющие клавиши, несмотря на размер, очень рельефные, хорошо ощущаемые и легко нажимаемые — отщёлкивать хоть четырёх-, хоть восьмизначный код при входе — легко и приятно. Основная эксплуатация: Ledger Live После этого основные активности будут происходить в приложении Live. Доступ к Ledger Live предлагается защитить паролем. Впрочем, без флэшки с приватным ключом, в нём можно только посмотреть баланс криптоактивов — но ничего нельзя будет с ними сделать. Поэтому пароль, в отличие от PIN-кода для кошелька — процедура необязательная, которую можно пропустить. Генерация самих кошельков производится уже с помощью приложения Live. Сейчас Ledger Nano S поддерживает 47 криптовалют , но этот список постоянно расширяется. Поэтому, вместо предустановки поддержки монет на кошельке, Ledger предлагает пользователю их в виде доступных к установке приложений. Запустив Live и подключив «флэшку» Nano S, пользователь может выбрать и, установив соответствующее приложение, подключить нужную монету. После чего, следуя инструкциям Ledger Live — создать кошелёк. После подключения нужной криптомонеты, технологические нюансы, связанные с настройкой Ledger Nano S, в целом, заканчиваются, и криптовладелец оказывается в уже более-менее знакомой и понятной среде. Баланс кошелька и его публичный (ключ) адрес появятся в Ledger Live — в том числе, конечно же, в виде QR-кода. На «флэшке» Nano S останется сгенерированный на ней же приватный ключ, необходимый для подтверждения транзакций. Из важного — в настройках Ledger Live можно выбрать количество подтверждений, после которых транзакция будет помечена завершённой. По умолчанию для Bitcoin стоит два — и этого достаточно, в принципе, поэтому менять не стал. Для Ethereum дефолтная настройка — 120 подтверждений. На Ledger Nano S можно установить о 5 до 18 приложений одновременно. Если и этого окажется недостаточно, то их можно удалять и устанавливать вновь — приватные ключи сохранятся в памяти устройства. Поддержка новых монет расширяется с новыми приложениями, создаваемыми как разработчиками Ledger, так и силами самого криптокоммьюнити, и добавленными производителем после тестирования. Можно даже следить за ходом этого процесса и ближайшими планами Ledger в режиме реального времени на публичной доске в Trello . Это демонстрирует самую прогрессивную политику обновлений и расширения поддерживаемого функционала, которую я встречал среди IT-компаний. О выходе обновления для приложения Live сообщает специальное уведомление. После апдейта пользователь может посмотреть информацию о его содержимом — и историю предыдущих апдейтов заодно. Здесь подход Ledger к информированию юзера тоже безупречен. Похоже, Ledger делают хорошие люди. Перевод на другие кошельки Главная страница Ledger Live показывает общую ситуацию с балансом криптовалюты. Фиатную валюту можно поменять в настройках. Подключив аппаратный кошелёк, кликаем в меню Send для отправки крипты. Иконка в поле ввода публичного ключа адресата запускает камеру устройства, если таковая имеется (это всё-таки десктопное приложение) для считывания QR-кода вместо ввода адреса. Ещё можно поиграться с настройками комиссии за транзакцию. По клику на подсказку откроется статья на сайте Ledger с пояснением на примером Bitcoin. Про комиссии на Эфире лучше почитать на MyEtherWallet . Осталось только подтвердить или отменить транзакцию нажатием кнопки на Ledger Nano S. На экранчике кошелька выводится сумма транзакции и адрес кошелька получателя. Если передумать, то ничего никуда не уйдёт. Но если вдруг транзакция была отменена по ошибке, то по клику на Retry форма отправки откроется заново со всеми уже введёнными в неё данными — заново вбивать сумму или адрес не понадобится. Успех! По клику на детали можно будет перейти в блокчейн-эксплорер для просмотра состояния транзакции. Поддержка токенов Да, Ledger Nano S поддерживает управление и токенами тоже. Вместо Ledger Live интерфейсами для управления ERC20-токенами на эфире служат сервисы MyCrypto и MyEtherWallet. Так что «замком» можно теперь защитить и все транзакции с 663 поддерживаемыми на данный момент этими сервисами токенами. Причём, настройка работы Nano S с MyEtherWallet даже проще, чем подключение криптовалют, и делается в два шага: Или в такие же два шага на MyCrypto . Конечно, это будут уже не старые аккаунты — а то мало ли где приватный ключ от них валялся! Это будет эфирный кошелёк по тому же адресу, который был сгенерирован при установке приложения Ethereum на Nano S. Поскольку публичный блокчейн, включая Ethereum, по определению прозрачен — то и просмотр содержимого любых кошельков в нём доступно кому угодно и через разные интерфейсы — включая, разумеется, и веб. Таким образом, MyEtherWallet и MyCrypto выполняют роль, аналогичную функции Ledger Live — только в них отображается не только баланс эфира, но и токенов по этому адресу. После покупки Nano S вместо назойливых предупреждений, что не так, мол, входите, MyEtherWallet должен начать издавать довольное мурчание, потому что физические кошельки Ledger и Trezor находятся среди рекомендуемых сервисом способов входа. Переслать токены или криптовалюту оттуда всё равно будет нельзя без того самого приватного ключа, который был сгенерирован и хранится на «флэшке» Nano S. Ещё несколько поддерживаемых кошельков: веб-кошелёк VeForge , десктопный кросплатформенник NEON , старый и верный товарищ Electrum , Electron Cash и ещё, и ещё, и ещё — пройдитесь по меню слева , там ещё есть варианты. Резюме Живое знакомство с логикой работы аппаратного кошелька и личный опыт эксплуатации уравновесили в моей голове прежние предрассудки. Хотя это всё равно ещё один девайс, чтобы таскать в карманах и следить, что не оставил его на подносе у рамок металлоискателей в аэропорту. Все жалобы, если подумать, касаются только комплектации: бумажка не та, нет карандашика или ручки в комплекте, да и шнурок пора уже по дефолту класть не на USB, а USB-C. Но всё это, как говорится — несколько евро по карте MasterCard. А вот количество поддерживаемых монет, токенов и воодушевляющая политика обновлений и поддержки — бесценны (ничего подобного я не припоминаю больше ни у какого другого кошелька на рынке). Для меня это даже важнее типа или форм-фактора кошелька. До конца воскресенья, 25 ноября, Ledger Nano S будет в Madrobots на распродаже за 4495₽ вместо 8990₽ .]]></text>
</doc>
